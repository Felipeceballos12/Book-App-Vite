(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();async function m(e){try{const t="http://localhost:3000/books/"+e;return(await(await fetch(t)).json()).items}catch(t){console.log(t)}}function c(){const e=document.querySelector("#containerBackground"),t=document.querySelector("#titleSearchBook");e.classList.add("changeHeightBackground"),t.style.display="none"}function g(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function s(){let e=document.querySelector("#myModal");e.style.display="block"}function d(){let e=document.querySelector("#myModal");document.querySelector(".close").addEventListener("click",()=>{e.style.display="none",localStorage.removeItem("bookView")}),window.addEventListener("click",n=>{n.target==e&&(e.style.display="none",localStorage.removeItem("bookView"))})}function f(e){const t=document.createElement("div");t.classList.add("modalLoading"),t.id="myModal",t.innerHTML=`<div class="modal-content-loading">
                                    <h6>LOADING....</h6>                    
                            </div>`,e.appendChild(t)}function p(e,t){c();const n="https://bijao.uninorte.edu.co/tutoriales_tic/img/icono/no_imagen.png";let i=document.createElement("article");i.innerHTML=` <figure id="${e.id}" class="cardContainer">
                                    <div class="">
                                        <img src="${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:n}" class="imgBook" alt="${e.volumeInfo.title}">
                                    </div>
                                    <figcaption class="containerTitleAndAuthor">
                                        <p class="titleBook">${e.volumeInfo.title}</p>
                                        <p class="authorBook">By ${e.volumeInfo.authors?e.volumeInfo.authors:"anonymous"}</p>
                                    </figcaption>
                                </figure>`,i.className="card",i.style.width="190px",i.style.backgroundImage="linear-gradient(#f8f7ff 10%, #fff)",t.appendChild(i)}function h(e){const t=document.querySelector("#container");e.forEach(n=>{p(n,t)})}function v(e){let t=document.querySelector("#containerContent");t.innerHTML=`<div class="containerImgAndBtn">
                                    <img class="containerModalImg" src="${e.img}" alt="${e.title}">
                                    <div>
                                        <div class="titleModal">   
                                            <h2>${e.title}</h2>
                                        </div>
                                        <p class="containerAboutAuthor"><strong>author:</strong> ${e.author}</p>
                                        <p class="containerPriceAndPages"><strong>Num Pages:</strong> #${e.pageCount}</p>
                                        <p class="containerAboutAuthor"><strong>language:</strong> ${e.language}</p>
                                        <p class="containerPriceAndPages"><strong>price:</strong> ${e.price}</p>
                                        ${e.price!=="NOT FOR SALE"?`<a href="${e.url}" target="_blank" class="urlBook">Go to Buy</a>`:'<div style="height: 42.57px;"></div>'}
                                    </div>
                                </div>
                                <div>
                                    <p class="containerDescripcion" style="${e.description.length>538?"height:204.8px; overflow-y:auto;":"height: 100%"}"><strong>description:</strong> ${e.description}</p>
                                </div>`}function y(){let e=localStorage.getItem("bookView"),t=JSON.parse(e);v(t)}function I(e){const t="https://bijao.uninorte.edu.co/tutoriales_tic/img/icono/no_imagen.png",n=document.querySelectorAll(".cardContainer");for(let i of n)i.addEventListener("click",o=>{let r=o.target,l=r.id?r.id:r.parentNode.parentNode.id;e.forEach(a=>{if(a.id===l){let u={img:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.thumbnail:t,title:a.volumeInfo.title,author:a.volumeInfo.authors?a.volumeInfo.authors:"anonymous",description:a.volumeInfo.description?a.volumeInfo.description:"no description",pageCount:a.volumeInfo.pageCount?a.volumeInfo.pageCount:"anonymous",language:a.volumeInfo.language,price:a.saleInfo.saleability=="FOR_SALE"?a.saleInfo.listPrice.amount:"NOT FOR SALE",url:a.volumeInfo.infoLink};localStorage.setItem("bookView",JSON.stringify(u)),s(),y()}})})}document.querySelector("form").onsubmit=async function(e){e.preventDefault();const t=document.querySelector("#searchInput").value,n=document.querySelector("#container");n.firstChild&&g(n),f(n),s();const i=await m(t);i?(h(i),I(i),document.querySelector(".modalLoading").remove()):(c(),n.innerHTML="NOT FOUND!"),d()};d();localStorage.removeItem("bookView");
