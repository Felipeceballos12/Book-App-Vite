(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();async function m(e){try{const t="http://localhost:3000/books/"+e,o=await fetch(t,{method:"GET",headers:{"Access-Control-Allow-Origin":"*"}});return console.log({books:o}),o}catch(t){console.log(t)}}function c(){const e=document.querySelector("#containerBackground"),t=document.querySelector("#titleSearchBook");e.classList.add("changeHeightBackground"),t.style.display="none"}function g(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function s(){let e=document.querySelector("#myModal");e.style.display="block"}function d(){let e=document.querySelector("#myModal");document.querySelector(".close").addEventListener("click",()=>{e.style.display="none",localStorage.removeItem("bookView")}),window.addEventListener("click",o=>{o.target==e&&(e.style.display="none",localStorage.removeItem("bookView"))})}function f(e){const t=document.createElement("div");t.classList.add("modalLoading"),t.id="myModal",t.innerHTML=`<div class="modal-content-loading">
                                    <h6>LOADING....</h6>                    
                            </div>`,e.appendChild(t)}function p(e,t){c();const o="https://bijao.uninorte.edu.co/tutoriales_tic/img/icono/no_imagen.png";let r=document.createElement("article");r.innerHTML=` <figure id="${e.id}" class="cardContainer">
                                    <div class="">
                                        <img src="${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:o}" class="imgBook" alt="${e.volumeInfo.title}">
                                    </div>
                                    <figcaption class="containerTitleAndAuthor">
                                        <p class="titleBook">${e.volumeInfo.title}</p>
                                        <p class="authorBook">By ${e.volumeInfo.authors?e.volumeInfo.authors:"anonymous"}</p>
                                    </figcaption>
                                </figure>`,r.className="card",r.style.width="190px",r.style.backgroundImage="linear-gradient(#f8f7ff 10%, #fff)",t.appendChild(r)}function h(e){const t=document.querySelector("#container");e.forEach(o=>{p(o,t)})}function v(e){let t=document.querySelector("#containerContent");t.innerHTML=`<div class="containerImgAndBtn">
                                    <img class="containerModalImg" src="${e.img}" alt="${e.title}">
                                    <div>
                                        <div class="titleModal">   
                                            <h2>${e.title}</h2>
                                        </div>
                                        <p class="containerAboutAuthor"><strong>author:</strong> ${e.author}</p>
                                        <p class="containerPriceAndPages"><strong>Num Pages:</strong> #${e.pageCount}</p>
                                        <p class="containerAboutAuthor"><strong>language:</strong> ${e.language}</p>
                                        <p class="containerPriceAndPages"><strong>price:</strong> ${e.price}</p>
                                        ${e.price!=="NOT FOR SALE"?`<a href="${e.url}" target="_blank" class="urlBook">Go to Buy</a>`:'<div style="height: 42.57px;"></div>'}
                                    </div>
                                </div>
                                <div>
                                    <p class="containerDescripcion" style="${e.description.length>538?"height:204.8px; overflow-y:auto;":"height: 100%"}"><strong>description:</strong> ${e.description}</p>
                                </div>`}function y(){let e=localStorage.getItem("bookView"),t=JSON.parse(e);v(t)}function I(e){const t="https://bijao.uninorte.edu.co/tutoriales_tic/img/icono/no_imagen.png",o=document.querySelectorAll(".cardContainer");for(let r of o)r.addEventListener("click",n=>{let i=n.target,l=i.id?i.id:i.parentNode.parentNode.id;e.forEach(a=>{if(a.id===l){let u={img:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.thumbnail:t,title:a.volumeInfo.title,author:a.volumeInfo.authors?a.volumeInfo.authors:"anonymous",description:a.volumeInfo.description?a.volumeInfo.description:"no description",pageCount:a.volumeInfo.pageCount?a.volumeInfo.pageCount:"anonymous",language:a.volumeInfo.language,price:a.saleInfo.saleability=="FOR_SALE"?a.saleInfo.listPrice.amount:"NOT FOR SALE",url:a.volumeInfo.infoLink};localStorage.setItem("bookView",JSON.stringify(u)),s(),y()}})})}document.querySelector("form").onsubmit=async function(e){e.preventDefault();const t=document.querySelector("#searchInput").value,o=document.querySelector("#container");o.firstChild&&g(o),f(o),s();const r=await m(t);r?(h(r),I(r),document.querySelector(".modalLoading").remove()):(c(),o.innerHTML="NOT FOUND!"),d()};d();localStorage.removeItem("bookView");
